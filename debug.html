<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤–∏–¥–∂–µ—Ç–∞</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
            background: #f0f0f0;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        h1 { color: #333; text-align: center; }
        h2 { color: #666; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            margin: 15px 0;
            overflow-x: auto;
        }
        .widget-test {
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            margin: 20px 0;
        }
        .status {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-weight: bold;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <h1>üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Call Widget</h1>
    
    <div class="container">
        <h2>–ü—Ä–æ–±–ª–µ–º–∞</h2>
        <p>–ö–æ–≥–¥–∞ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç:</p>
        <div class="code-block">&lt;script src="https://call-widget.tf-widgets.com/embed.js" data-id="demo"&gt;&lt;/script&gt;</div>
        <p>–í–∏–¥–∂–µ—Ç –º–æ–∂–µ—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∏—á–∏–Ω–∞–º:</p>
        <ul>
            <li><strong>CORS (Cross-Origin Resource Sharing)</strong> - —Å–∫—Ä–∏–ø—Ç –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ —Å –¥—Ä—É–≥–æ–≥–æ –¥–æ–º–µ–Ω–∞</li>
            <li><strong>–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞</strong> - call-widget.tf-widgets.com –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</li>
            <li><strong>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–∫–ª–∞–º—ã</strong> - –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ –≤–∏–¥–∂–µ—Ç—ã</li>
            <li><strong>–°–µ—Ç–µ–≤—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è</strong> - —Ñ–∞–π—Ä–≤–æ–ª–ª—ã –∏–ª–∏ –ø—Ä–æ–∫—Å–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç –∑–∞–ø—Ä–æ—Å</li>
        </ul>
    </div>

    <div class="container">
        <h2>–¢–µ—Å—Ç 1: –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞</h2>
        <div id="remote-status" class="status info">–ü—Ä–æ–≤–µ—Ä—è–µ–º...</div>
        <div class="widget-test">
            <div id="remote-widget">
                <script 
                    src="https://call-widget.tf-widgets.com/embed.js" 
                    data-id="demo"
                    onerror="document.getElementById('remote-status').className='status error'; document.getElementById('remote-status').textContent='‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞';"
                    onload="document.getElementById('remote-status').className='status success'; document.getElementById('remote-status').textContent='‚úÖ –£–¥–∞–ª–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∂–µ–Ω';"
                ></script>
            </div>
        </div>
    </div>

    <div class="container">
        <h2>–¢–µ—Å—Ç 2: –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç (—Ä–∞–±–æ—á–∏–π)</h2>
        <div id="local-status" class="status success">‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç</div>
        <div class="widget-test">
            <div id="local-widget">
                <script src="./embed.js" data-id="demo"></script>
            </div>
        </div>
    </div>

    <div class="container">
        <h2>–†–µ—à–µ–Ω–∏—è</h2>
        <h3>–í–∞—Ä–∏–∞–Ω—Ç 1: –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ</h3>
        <p>–°–∫–∞—á–∞–π—Ç–µ embed.js –∏ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç–µ –Ω–∞ —Å–≤–æ–µ–º —Å–µ—Ä–≤–µ—Ä–µ:</p>
        <div class="code-block">
&lt;!-- –í–º–µ—Å—Ç–æ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ --&gt;
&lt;script src="https://call-widget.tf-widgets.com/embed.js" data-id="demo"&gt;&lt;/script&gt;

&lt;!-- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π --&gt;
&lt;script src="/js/embed.js" data-id="demo"&gt;&lt;/script&gt;
        </div>

        <h3>–í–∞—Ä–∏–∞–Ω—Ç 2: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–∏–¥–∂–µ—Ç</h3>
        <p>–°–æ–∑–¥–∞–π—Ç–µ –≤–∏–¥–∂–µ—Ç –ø—Ä—è–º–æ –≤ HTML –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:</p>
        <div class="code-block">
&lt;div class="call-widget"&gt;
    &lt;div class="widget-content"&gt;
        &lt;span class="icon"&gt;üçï&lt;/span&gt;
        &lt;h3&gt;Order Pizza&lt;/h3&gt;
        &lt;p&gt;Call now! Delivery in 30 minutes&lt;/p&gt;
        &lt;a href="tel:+420123456789" class="phone-btn"&gt;+420 123 456 789&lt;/a&gt;
        &lt;div class="actions"&gt;
            &lt;a href="https://wa.me/420123456789" target="_blank"&gt;üí¨ WhatsApp&lt;/a&gt;
            &lt;a href="#menu"&gt;üìã Menu&lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
        </div>

        <h3>–í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏</h3>
        <p>–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ —Å–µ—Ç–∏.</p>
    </div>

    <script>
        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
        setTimeout(() => {
            const remoteWidget = document.getElementById('remote-widget');
            const localWidget = document.getElementById('local-widget');
            
            console.log('=== –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê ===');
            console.log('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞:', remoteWidget.innerHTML);
            console.log('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞:', localWidget.innerHTML);
            
            if (remoteWidget.children.length <= 1) {
                document.getElementById('remote-status').className = 'status error';
                document.getElementById('remote-status').textContent = '‚ùå –£–¥–∞–ª–µ–Ω–Ω—ã–π –≤–∏–¥–∂–µ—Ç –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è';
            }
        }, 5000);

        // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
        window.addEventListener('error', function(e) {
            if (e.filename && e.filename.includes('call-widget.tf-widgets.com')) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Äuz–∫–∏ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞:', e);
                document.getElementById('remote-status').className = 'status error';
                document.getElementById('remote-status').textContent = '‚ùå –°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ';
            }
        });
    </script>
</body>
</html>